define(function(){function a(c,d,e){if(!(this instanceof a))return"object"==typeof d&&void 0==e?new a(c,$m.merge(b,d)):new a(c,d,e);c=$("."!=c.charAt(0)&&"#"!=c.charAt(0)?"#"+c:c);var f,g;"object"==typeof d?(f=d,e=f.callback,g=f.date):g=d,g?"string"==typeof g&&(g=new Date(g).getSeconds(),isNaN(g)&&(g=0)):g=0,g=parseInt(g);var h=setInterval(function(){function a(a){a+="";var b=[],c=a.length;if(c>1){for(var d=0;c>d;d++)b.push('<em class="'+(f&&f.timeItemCls||"")+'">'),b.push(a[d]),b.push("</em>");return b.join("")}return"<em>"+a+"</em>"}if(0>=g)return clearInterval(h),f&&f.overText?c.html(f.overText):c.hide(),void(e&&e.call(c));var b,d,i,j,k=0;b=g%60,j=(g-b)/60,d=j%60,i=(j-d)/60,b=b>9?b:"0"+b,d=d>0?d>9?d:"0"+d:"00",i>0?(k=(i-i%24)/24,i=k>0?i%24:i,i=i>9?i:"0"+i):i="00",i=a(i)+"<span>:</span>",b=a(b),f?(d=a(d)+(f.isHasSecond?"<span>:</span>":""),b=f.isHasSecond?b:"",k>0?(k=a(k),c.html('<span class="'+f.panelCls+'">'+f.prevText+"</span>"+k+"<span>天</span>"+f.afterText),clearInterval(h)):c.html('<span class="'+f.panelCls+'">'+f.prevText+"</span>"+i+d+b+f.afterText)):(d=a(d)+"<span>:</span>",c.html(i+d+b)),g--},1e3)}var b={prevText:"还剩",afterText:"结束",date:null,overText:"已结束",callback:null,panelCls:"time-txt",isHasSecond:!0,timeItemCls:""};return a});