Ymt.add(function(){function a(g,h){function i(a){if(h.circular)a<=h.start-r-1?(s.css(n,-((v-2*r)*w)+"px"),a=a==h.start-r-1?v-2*r-1:v-2*r-h.scroll):a>=v-r+1&&(s.css(n,-(r*w)+"px"),a=a==v-r+1?r+1:r+h.scroll);else if(0>a||a>v)return;return a}function j(a){var b=0,c=parseInt($.css(a,"marginTop"))||0,d=parseInt($.css(a,"marginBottom"))||0;return d>c&&(b=d-c),(h.viewSize[1]||a.offsetHeight)+c+b}var k=this;if(!(k instanceof a))return new a(g,$m.merge(f,h||{}));k.config=h,k.container=$(g),k.guid=++d+"widget.SeamlesScroll";var l=h.disableBtnCls;$m.isString(l)&&(l=h.disableBtnCls=[l,l]),$m.isString(h.panels)&&(h.panels=$(h.panels,k.container));var m=!1,n=h.vertical?"top":"left",o=h.vertical?"height":"width",p=h.panels,q=p.size(),r=h.visible;if(h.visible>q&&(h.circular=!1),h.btnPrev&&($m.isString(h.btnPrev)&&(h.btnPrev=$(h.btnPrev,k.container)),h.btnPrev.click(function(){return h.btnPrev.hasClass(l[0])||k.go(k.curr-h.scroll),!1}),h.btnPrev[["removeClass","addClass"][~~(!h.start&&!h.circular)]](l[0])),h.btnNext&&($m.isString(h.btnNext)&&(h.btnNext=$(h.btnNext,k.container)),h.btnNext.click(function(){return h.btnNext.hasClass(l[1])||k.go(k.curr+h.scroll),!1}),h.btnNext[["removeClass","addClass"][~~(q<h.scroll)]](l[1])),!q)return!1;var s=$(h.panels[0].parentNode),t=s.parent();p.each(function(a,b){$(b).attr("asins",a+1)}),h.circular&&(s.prepend(p.slice(q-r).clone()).append(p.slice(0,r).clone()),h.start+=r);var u=s.children(),v=u.size();k.curr=h.start,t.css("visibility","visible"),u.css({overflow:"hidden","float":h.vertical?"none":"left"}),s.css({margin:"0",padding:"0",position:"relative","list-style-type":"none","z-index":"1"}),t.css({overflow:"hidden",position:"relative","z-index":"2",left:"0px"});var w=h.vertical?j(u[0]):(h.viewSize[0]||u[0].offsetWidth)+(parseInt($.css(u[0],"marginLeft"))||0)+(parseInt($.css(u[0],"marginRight"))||0);p=w*v;var x=h.viewSize[~~h.vertical]||u[["width","height"][~~h.vertical]]();u.css(o,x+"px"),s.css(o,p+"px").css(n,-(k.curr*w)),h.btnGo&&($m.isString(h.btnGo)&&(h.btnGo=$(h.btnGo,k.container)),$.each(h.btnGo,function(a,b){$(b).click(function(){return k.go((h.circular?h.visible:0)+a*h.scroll)})})),h.auto&&(o=function(){k.later=$m.later(function(){k.go(k.curr+h.scroll)},h.auto+h.speed,!0)},p={mouseenter:function(){k.later&&k.later.cancel()},mouseleave:o},o(),t.bind(p),h.btnNext&&h.btnNext.bind(p),h.btnPrev&&h.btnPrev.bind(p)),k.go=function(a){if(!m){e=u.slice(k.curr).slice(0,h.scroll),a=k.curr=i(a);var d=u.slice(k.curr).slice(0,h.scroll),f={container:k.container,currentIndex:~~d.slice(0,1).attr("asins"),visibles:d,oldVisibles:e,amount:q};k.container.trigger(b+k.guid,f),m=!0,h.circular||(0>a?a=0:a+h.visible>v&&(a=h.visible>q?0:v-h.visible)),s.animate("left"==n?{left:-(a*w)}:{top:-(a*w)},h.speed,h.easing,function(){k.container.trigger(c+k.guid,f),m=!1}),h.circular||(a=h.disableBtnCls,h.btnPrev&&h.btnPrev[["removeClass","addClass"][~~(k.curr<=0)]](a[0]),h.btnNext&&h.btnNext[["removeClass","addClass"][~~(k.curr+h.scroll>=v)]](a[1]))}return!1}}var b="beforeSwitch",c="switch",d=0,e=null,f={panels:[],btnPrev:null,btnNext:null,disableBtnCls:"disabled",btnGo:null,auto:null,speed:200,easing:null,vertical:!1,circular:!0,visible:5,start:0,scroll:1,viewSize:[]};return $m.augment(a,{on:function(a,b){return this.container.bind(a+this.guid,function(a,c){a.stopPropagation(),b.call(a,c)}),this},next:function(){return this.go(this.curr+this.config.scroll),this},prev:function(){return this.go(this.curr-this.config.scroll),this}}),a});