Ymt.add(function(){function a(c,d){var e=this;if(!(e instanceof a))return new a(c,$m.merge(b,d));String.prototype.reTrim=function(){return this.replace(/^[#\.]/,"")},e.config=d,e.container=$(c),e.txt="";var f,g=$(c),h=null;if(0==g.size()||g.first().data("vExample"))return!1;if(g.first().data("vExample",!0),e.k={0:"isRegExp",1:"isEmpty",2:"lenMin",3:"lenMax",4:"lenRange",5:"isEmail",6:"isPhone",7:"isTell",8:"isChinese",9:"isEqual",10:"isRadio",11:"isPhoneOrTell",12:"isPassWrod",13:"isChOrEn"},e.isFocus=!0,e.v={isRegExp:function(a){return a.regexp.test(e.txt)},isEmpty:function(){return!!$.trim(e.txt)},lenMin:function(a){return e.txt.length>=~~a.p},lenMax:function(a){return e.txt.length<=~~a.p},lenRange:function(a){a=a.p.split(":");var b=e.txt.length;return b>=~~a[0]&&b<=~~a[1]},isEmail:function(){return/^[a-zA-Z0-9_\.\-]+\@([a-zA-Z0-9\_\-\u4e00-\u9fa5]+\.)+[a-zA-Z0-9]{2,4}$/.test(e.txt)},isPhone:function(){return/^\d{3,4}-\d{7,8}(-\d{3,4})?$/.test(e.txt)},isTell:function(a){return a=a.p,RegExp("^("+a+")\\d{"+(11-a.split("|")[0].length)+"}$").test(e.txt)},isChinese:function(){return/^[\u4E00-\u9FA5\uf900-\ufa2d]+$/.test(e.txt)},isEqual:function(a){return a=a.p.split(":"),$(a[0]).val()===$(a[1]).val()},isRadio:function(){return!!$(c).filter(":checked").get(0)},isPhoneOrTell:function(){return/(^(\d{3,4}-)?\d{7,8})$|(1[0-9]{10})/.test(e.txt)},isPassWrod:function(){return/[^\u4e00-\u9fa5]+$/.test(e.txt)},isChOrEn:function(){return/^[\u4E00-\u9FA5\uf900-\ufa2da-zA-Z]+$/.test(e.txt)}},e.showTip=function(a){a=e.isFocus?d.TipMsg:a?a:d.TipMsg,f="#validateTip_"+c.match(/\w+/g).join("");var b=d.TipTemplete?d.TipTemplete:"";if($(document.body).has(f).length||(d.FixedContainer?d.FixedContainer.attr("id",f.reTrim()).append(b):$(document.body).append(b)),d.FixedContainer&&d.FixedContainer.css("display","inline-block"),h=$(f),!d.FixedContainer){g=g.last();var i=d.Position,j=g.offset();b=j.top+g.height()+i[1],i=j.left+g.width()+i[0],h.css({top:b,left:i})}d.showBack[0]&&d.showBack[0].call(e),h.fadeIn("fast",function(){d.showBack[1]&&d.showBack[1].call(e)}).html(a)},e.bool=function(a,b){var c=b.replace(/^:+|:+$/g,"").split(":");return a=$.parseJSON(a),$.each(c,function(b,c){c in a&&(a=a[c])}),!!a},d.FixedContainer?d.FixedContainer="string"==typeof d.FixedContainer?$(d.FixedContainer):d.FixedContainer:(this.container.after('<span class="'+d.FixedErrorClass.reTrim()+'"></span>'),d.FixedContainer=this.container.next(d.FixedErrorClass)),d.AutoValidate&&(g.bind(d.eventShow,function(){d.FixedContainer&&d.FixedDefaultClass&&d.FixedContainer.removeClass(d.FixedDefaultClass.reTrim()),e.config.isasync=!0,e.isFocus=!1,e.validate()&&d.FixedContainer.hide()||d.FixedContainer.css("display","inline-block")}),g.bind(d.eventFocus,function(){d.FixedContainer&&d.FixedDefaultClass&&d.FixedContainer.addClass(d.FixedDefaultClass.reTrim()),e.config.isasync=!1,e.isFocus=!0,e.validate()&&d.FixedContainer.hide()||d.FixedContainer.css("display","inline-block")})),d.validateForm){var i=$(g).parents("form").first(),j=i.data("formArray"),k=j?j:[];k.push(e);var l=void 0==i.data("events")?null:i.data("events").submit[0].handler;i.data("formArray",k),i.unbind("submit").bind("submit",function(){var a=!0;return $.each(k,function(b,c){c.validate()||(a=!1)}),a&&l&&l.call(this),a})}}var b={TipMsg:"该输入项为必输项",eventShow:"blur",eventFocus:"focus",Position:[20,0],Text:null,FixedDefaultClass:".greybg",FixedErrorClass:".verifi",FixedContainer:"",AutoValidate:!0,TipTemplete:"",successFun:null,isasync:!1,validateType:[1,{k:2,p:"5",msg:"提示信息",fail:null,success:null,Ajax:{open:!1,url:"",para:null,step:""},self:null},function(){}],validateForm:!1,showBack:[0,0]};return $m.augment(a,{validate:function(){var a=this,b=!0;return a.txt=a.config.Text?a.config.Text.call(a):a.container.val(),$.each(a.config.validateType,function(c,d){if(d.Ajax&&d.Ajax.open){var e=a.config.isasync&&$.ajax({type:"get",url:d.Ajax.url+encodeURIComponent(a.txt),data:d.Ajax.para,async:!1}).responseText;if("string"==typeof e?e:null)return a.showTip(e),d.fail&&d.fail.call(a),b=!1}else if("function"==typeof d||d.self){if(!("function"==typeof d?d:d.self).call(a,a.container))return a.showTip(d.msg),d.fail&&d.fail.call(a),b=!1}else if(e=Object.prototype.toString.call(d).indexOf("Object")>-1?d.k:d,!a.v["string"==typeof e?e:a.k[e]](d))return a.showTip(d.msg),d.fail&&d.fail.call(a),b=!1;d.success&&d.success.call(a)}),b}}),a});