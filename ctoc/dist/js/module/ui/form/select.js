Ymt.add(function(){function a(a){var b=[];return $.each(a,function(a,c){a=[],"value"in c||(c.value=c.text);for(var d in c)"text"!=d&&a.push(d+'="'+c[d]+'"');b.push("<option "+a.join(" ")+">"+c.text+"</option>")}),b=b.join("")}function b(a){var b=[],c="";if(/[\s]+/i.test(a)){b=a.split(" ");for(var d in b)c+=e+b[d]}else c=e+a;return c}function c(a,b,c){var d=a.listItemCls;a=a.listTemplate;var e=c.length,f=[];if($.each(c,function(a){var b=h+a;0===a&&d[0]&&(b=d[0]),a===e-1&&d[1]&&(b=d[1]),f.push({text:c[a].text,value:c[a].value,cls:b})}),$m.isUndefined(a))$.each(f,function(a,c){b.push(0===a&&d[0]?'<li class="'+d[0]+'">'+c.text+"</li>":a===e-1&&d[1]?'<li class="'+d[1]+'">'+c.text+"</li>":"<li>"+c.text+"</li>")});else{var g=self.parseObj||(self.parseObj=function(a){return a=a.replace(i,"'+data[\"$1\"]+'"),new Function("data",["return '",a,"';"].join(""))}(a));$.each(f,function(a,c){b[a]=g(c)})}}function d(i,k){function l(a,b){var c=o.ulSelector;b=b||"",c.removeClass("over").removeClass("current"),a.css({"z-index":b}),c.hide()}function m(){var a,b,d=o.container,e=[],f=d.find("option");c(k,e,f),e=e.join(""),a="select"!==d[0].nodeName.toLowerCase()?d:d.parent(),b="select"!==d[0].nodeName.toLowerCase()?d.children():d,B.html(e),B.click(function(c){A=$(c.target).index(),x=b[0].options[A],n(a,b,o.titleSelector,A),o.titleSelector.html(x.text),c.stopPropagation(),c.cancelbubble=!0,l(a)})}function n(a,b,c,d){a=a.find("li").eq(d),b[0].selectedIndex=d,b.change(),a.toggleClass("over"),c.html(a.html())}if(!(this instanceof d))return new d(i,$m.merge(j,k));var o=this;o.config=k,o.container=$(i),j.optionsCache={};var p,q=o.container,r=(q[0].id||q[0].name)+f;i=$.browser.mozilla?"DOMMouseScroll":"mousewheel";var s,t=[];p="";var u,v,w,x,y;$m.isUndefined(k.name)||$m.isUndefined(k.options)||(t=a(k.name in k.optionsCache?k.optionsCache[k.name]:k.options),k.optionsCache[k.name]=k.options),q.is("select")?q.before('<div id="'+r+'" class="'+k.containerCls+'" tabindex="0"></div>').prependTo($("#"+r)):""===$.trim(q.html())&&(p='<select id="'+q[0].id+'" name="'+q[0].id+'">'+t+"</select>",q.append(p).attr("id",r).attr("class",k.containerCls)),v="select"!==q[0].nodeName.toLowerCase()?q:q.parent(),w="select"!==q[0].nodeName.toLowerCase()?q.children():q,x=w[0].options[w[0].selectedIndex],$m.isUndefined(k.domTemplate)&&$m.isUndefined(k.listTemplate)?($m.isUndefined(k.titleElm)&&(k.titleElm="h4"),q=k.titleCls,p=k.listCls,r=$m.isUndefined(q)?"":' class="'+q+'"',t=$m.isUndefined(p)?"":' class="'+p+'"',p="<"+k.titleElm+r+"></"+k.titleElm+">",k.domTemplate='<div class="'+k.selectCls+'">'+p+"<ul"+t+"></ul></div>",q=b(q),q=$m.isUndefined(q)?k.titleElm:q):(q=g,p=h,q=e+q,u=e+p),u=$m.isUndefined(u)?"ul":u,v.append(k.domTemplate),s=v.find(q),s.empty().append(x.text),o.titleSelector=s;var z,A=w.find("option").index(x),B=v.find(u);o.ulSelector=B,!$m.isUndefined(s)&&s.is("button")&&s.click(function(a){a.preventDefault()}),($m.isUndefined(k.disableWidth)||k.disableWidth===!1)&&(u=w.width(),$.browser.safari&&(u+=15),s.css({width:u}),u=u+parseInt(s.css("padding-left"),10)+parseInt(s.css("padding-right"),10),o.ulSelector.css({width:u+"px"})),w.hide(),m(),z=v.find("li"),$m.isUndefined(k.listItemCount)||(y=parseInt(z.css("height"))*k.listItemCount,u=parseInt(z.css("height"))*z.size(),u>=y?B.css("height",y+"px"):y>u&&B.css("height",u+"px"),B.css("overflow","auto"),B.bind("scroll",function(){z.focus()})),v.bind({click:function(){var a=o.ulSelector,b=$(this).find("li");return"block"==a.css("display")?l(v):(s.addClass("current"),a.show(),v.css({position:"relative"}),A=b.index($(".selectedli")[0]),b.hover(function(){b.removeClass("over"),$(this).addClass("over").addClass("selectedli"),A=b.index(this)},function(){$(this).removeClass("over")})),!1},dblclick:function(){return l(v),!1},keydown:function(a){var b=v.find(".over"),c=w.find("option").length,d=B.scrollTop();switch($(this).bind("keydown",function(a){return 40==a.keyCode||38==a.keyCode||35==a.keyCode||36==a.keyCode?!1:void 0}),a.keyCode){case 9:return!0;case 13:l(v);break;case 27:l(v);break;case 33:b.removeClass("over"),A=0,n(v,w,s,A);break;case 34:b.removeClass("over"),A=c-1,n(v,w,s,A);break;case 35:b.removeClass("over"),A=c-1,n(v,w,s,A);break;case 36:b.removeClass("over"),A=0,n(v,w,s,A);break;case 38:$m.isUndefined(y)&&0===y||d>0&&(B[0].scrollTop=d-parseInt(z.css("height"))),a.preventDefault(),b.removeClass("over"),0===A?A=0:A-=1,n(v,w,s,A);break;case 40:if(!$m.isUndefined(y)||0!==y){var e=z.height()*z.size();e>d+y&&(B[0].scrollTop=d+parseInt(z.css("height")))}a.preventDefault(),b.removeClass("over"),A===c-1?A=c-1:A+=1,n(v,w,s,A);break;default:a.preventDefault()}},blur:function(){return l(v),!1},selectstart:function(){return!1}}).bind(i,function(a){function b(){d.removeClass("over"),0===A?A=0:A-=1,n(v,w,s,A)}function c(){d.removeClass("over"),A===e-1?A=e-1:A+=1,n(v,w,s,A)}var d,e,f=0;f=a.wheelDelta?a.wheelDelta/120:-a.detail/3,d=v.find(".over"),e=w.find("option").length,f>0?b(f):c(Math.abs(f))}),$("body").bind("click",function(){B.each(function(){"none"!=$(this).css("display")&&$(this).hide()})})}var e=".",f="-select-bar",g="Select-title",h="Select-List",i=/\\?\%([^%]+)\%/g,j={listItemCls:["first","last"],disableWidth:!0,containerCls:"dropdown_container",selectCls:"dropdown_select_box",titleCls:"pretend_select",listCls:"locat_select"};return $m.augment(d,{on:function(a,b){this.container.bind(a,function(a,c){a.preventDefault(),b.call(a,c)})},getProperty:function(a){var b=this.container;return"text"===a?$(b[0].options[b[0].selectedIndex]).html():b[0][a]},val:function(){var a=this.container;return""!==a[0].value?a[0].value:a[0].text},setDefalutVal:function(a){this.container[0].defaultValue=a,this.titleSelector.html(a)},upList:function(b,d){var e=[],f=this.container,g=this.config;$m.isArray(b)&&(d=b,b="aaa"),$m.isUndefined(d)?d=g.optionsCache[b]:g.optionsCache[b]=d,c(g,e,d),b=a(d),f.empty().append(b),e=e.join(""),this.ulSelector.html(e),this.titleSelector.html($("option:eq(0)",f).text())}}),d});